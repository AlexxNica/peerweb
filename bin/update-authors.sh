#!/usr/bin/env bash

FILE="AUTHORS.md"

# Update AUTHORS.md based on git history

echo -e "# Authors\n" > $FILE

echo -e "### Ordered by first contribution\n" >> $FILE

git log --format='%at %aE' | \
  sort -k 2 | uniq -s 11 | sort -n | cut -d ' ' -f 2 | \
  xargs -L1 git log -n 1 --format='* %an (%ce)' --author | \
  grep -v 'phoenix1796' | \
  sed 's/wblankenship/William Blankenship/g' >> $FILE

echo -e "\n### Generated by bin/update-authors.sh" >> $FILE
